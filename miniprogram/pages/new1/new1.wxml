<!-- The top part above the swiper -->
<view wx:key="key" wx:for="{{menu}}" wx:if="{{currentFood==item.index}}">
  <!-- The title and picture part on the top -->
  <image class="foodImg" src="{{item.foodImg}}"></image>
  <view class="titleBackground">
    <view class='foodTitle'>{{item.foodTitle}}</view>
    <view class='price'>{{item.price}}</view>
    <!-- The star and share button on the top right -->
    <view class="iconArray">
      <image class="icon" id='0' catchtap='handleCollection' wx:if='{{!isCollected}}' src="{{starBefore}}"></image>
      <image class="icon" id='1' catchtap='handleCollection' wx:if='{{isCollected}}' src="{{starAfter}}"></image>
      <image class="icon" src="{{share}}"></image>
      <button open-type='share' plain='true' class="shareButton"></button>
    </view>
  </view>
</view>

<!-- The display of the two tab bars -->
<view class='tabBar'>
  <view bindtap='barChange' data-current="0" class="nav       {{current==0 ? 'active' : ''}}">
    <text class="navtext {{current==0 ? 'active' : ''}}">{{textReview}}          </text>
  </view>
  <view bindtap='barChange' data-current="1" class="nav       {{current==1 ? 'active' : ''}}">
    <text class="navtext {{current==1 ? 'active' : ''}}">{{spice}}          </text>
  </view>
</view>

<!-- The swiper items following the two tab bars -->
<swiper class='swiper' current="{{current}}" bindchange="swiperChange" style="height:{{reviewHeights[current]}}rpx">
  <!-- The first swiper item-->
  <swiper-item>
    <!-- The review summary -->
    <view class="wholeReview">
      <text class="sum">{{number}}{{numberText}}</text>
      <view class="ratingDisplay">
        <view wx:key="key" wx:for="{{review}}">
          <image class="rectangle" src="{{greenRectangle}}"></image>
          <text class="rating">{{item.rating}}{{item.number}}</text>
        </view>
      </view>
      <!-- The review content at the bottom -->
      <view class="margin"></view>
      <view class="reviewBackground" wx:key="key" wx:for="{{content}}">
        <!-- The head of a review -->
        <view class="review">
          <image class="profilePhoto" src="{{profilePhoto}}" mode="aspectFit"></image>
          <view class="nameDisplay">
            <view class="username">{{item.username}}</view>
          </view>
          <!-- The content and information of a review -->
          <view class="add-commentDisplay">
            <view class="add-comment">{{item.commentContent}}</view>
          </view>
          <view class="time">
            <text decode="true">{{item.time}}</text>
            <button form-type="deleteComment" class="cancel">{{cancel}}</button>
          </view>
        </view>
      </view>
    </view>
  </swiper-item>

  <!-- The second swiper item -->
  <swiper-item>
    <view wx:key="key" wx:for="{{ingredient}}" wx:if="{{currentFood==item.index}}">
      <!-- The first row -->
      <view class="alignment">
        <!-- vegetable content -->
        <view>
          <view class="title">{{vegetext}}\n</view>
          <image class="Img" src="{{vegeImg}}"></image>
          <view wx:key="key" wx:for="{{item.vegetable}}">
            <view class="ingredient">• {{item.name}}</view>
          </view>
        </view>
        <!-- meat content -->
        <view>
          <view class="title">{{meattext}}\n</view>
          <image class="Img" src="{{meatImg}}"></image>
          <view wx:key="key" wx:for="{{item.meat}}">
            <view class="ingredient">• {{item.name}}</view>
          </view>
        </view>
      </view>
      <!-- The second row -->
      <view class="alignment">
        <!-- sauce content -->
        <view>
          <view class="title">{{saucetext}}\n</view>
          <image class="Img" src="{{sauceImg}}"></image>
          <view wx:key="key" wx:for="{{item.sauce}}">
            <view class="ingredient">• {{item.name}}</view>
          </view>
        </view>
        <!-- other content -->
        <view>
          <view class="title">{{othertext}}\n</view>
          <image class="Img" src="{{otherImg}}"></image>
          <view wx:key="key" wx:for="{{item.other}}">
            <view class="ingredient">• {{item.name}}</view>
          </view>
        </view>
      </view>
    </view>
  </swiper-item>
</swiper>

<!-- The comment box -->
<form bindsubmit="submitForm" report-submit="true">
  <view class="release">
    <view class="replyinfo2">
      <textarea placeholder-class="input_null" fixed="true" show-confirm-bar="false" placeholder="请输入回复" name="comment"></textarea>
      <button form-type="submit" class="submit">{{sent}}</button>
    </view>
  </view>
</form>